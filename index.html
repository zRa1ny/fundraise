<!DOCTYPE html>
<html lang="en">

<head>
    <!-- 制作人信息 -->
    <!--PM:[xxx] Designer:[xxx] Developer:[] date:2018xxxx-->
    <title>希望工程</title>
    <meta content="" name="description">
    <meta content="" name="keywords">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta http-equiv="pragma" content="no-cach">
    <meta name="robots" content="all">
    <meta http-equiv="x-rim-auto-match" content="none">
    <meta name="format-detection" content="telephone=no">
    <meta name="format-detection" content="email=no">
    <meta name="format-detection" content="address=no">
    <meta name="format-detection" content="date=no">
    <meta name="viewport"
        content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <link rel="stylesheet" href="css/reset.min.css">
    <link rel="stylesheet" href="./css/swiper.min.css">
    <link rel="stylesheet" href="css/style.css">

    <script type="text/javascript" src="js/main.js"></script>
</head>

<body>
    <div class="loading" id="loading">
        <div class="loadbox">
            <div class="loadtext">loading</div>
            <div class="circle1"></div>
            <div class="circle2"></div>
        </div>
    </div>
    <!-- 横屏 -->
    <!-- <div class="cover posa">
        <div class="iphone Rotate"></div>
        <p>为了更好的用户体验，请将屏幕竖向浏览！</p>
    </div> -->
    <!-- 音乐 -->
    <!-- 
        <audio preload="auto" id="myMusic" loop autoplay src="music.mp3">
	</audio>
    <div class="audio">
        <input class="play" type="button" id="music" />
    </div> -->
    <!-- <div class="ani" s-a-effect="fadeInDown" s-a-delay="2s" s-a-iteration-count="infinite"></div> -->
    <!-- siwper 画屏+动画 -->
    <div class="swiper-container">
        <div class="swiper-wrapper">
            <!-- 第一页 start -->
            <div class="swiper-slide" data-hash="page1">
                <div class="page-L swiper-no-swiping" id="page1">
                    <img src="./images/page1-bg.png" alt="" srcset="">
                    <div class="buttom-box">
                        <div id="begin" class="navTo2">开始捐款</div>
                        <div id="subnav">
                            <span class="navTo4">活动规则</span>
                            <span class="navTo2">执行情况</span>
                        </div>
                    </div>
                </div>
            </div>
            <!-- 第一页 end -->

            <!-- 第二页 start -->
            <div class="swiper-slide" style="position: relative;" data-hash="page2">
                <div class="page-L swiper-no-swiping " id="page2">
                    <div class="banner">
                        <img src="./images/page2-banner.png" alt="" srcset="">
                        <div class="banner-box">
                            <h5>为孩子们的“悦”读角捐赠一本书</h5>
                            <div class="progress">
                                <img src="./images/yes.png" alt="" srcset="">
                                <div class="progress-pipe" data-value="400">
                                    <div class="progress-bar" style="width: 80%;"></div>
                                </div>
                            </div>
                            <div class="message">
                                <span>筹款目标：12,000元 </span>
                                <span>累计筹款：11,000元 </span>
                                <span>参与人次：1,001人</span>
                            </div>
                            <img src="./images/logo.png" alt="">
                        </div>
                    </div>
                    <div class="introduce ">
                        <img src="./images/page2.png" alt="" srcset="">
                    </div>
                </div>
                <div class="bottom-box swiper-no-swiping">
                    <div class="navTo3">点击捐款</div>
                </div>
            </div>
            <!-- 第二页 end -->

            <!-- 第三页 start -->
            <div class="swiper-slide" style="position: relative;" data-hash="page3">
                <div class="page-L swiper-no-swiping" id="page3">
                    <form action="./certificate.html" method="get" id="myform">
                        <div class="form-control">
                            <label class="radio-item">
                                <input class="money-set" name="money-set" type="radio" value="20" />
                                <div class="radio-symbol">
                                    <span class="img"></span>
                                    <span class="num">1本书</span>
                                    <span class="love"><i>20</i>元</span>
                                </div>
                            </label>
                            <img class="logo1" src="./images/page3-logo1.png" alt="" srcset="">
                            <label class="radio-item">
                                <input class="money-set" name="money-set" type="radio" value="40" />
                                <div class="radio-symbol">
                                    <span class="img"></span>
                                    <span class="num">2本书</span>
                                    <span class="love"><i>40</i>元</span>
                                </div>
                            </label>
                        </div>
                        <div class="form-control">
                            <label class="radio-item">
                                <input class="money-set" name="money-set" type="radio" value="80" />
                                <div class="radio-symbol">
                                    <span class="img"></span>
                                    <span class="num">4本书</span>
                                    <span class="love"><i>80</i>元</span>
                                </div>
                            </label>
                            <img class="logo2" src="./images/page3-logo2.png" alt="" srcset="">
                            <label class="radio-item">
                                <input class="money-set" name="money-set" type="radio" value="120" />
                                <div class="radio-symbol">
                                    <span class="img"></span>
                                    <span class="num">6本书</span>
                                    <span class="love"><i>120</i>元</span>
                                </div>
                            </label>
                        </div>
                        <div class="form-control">
                            <label class="radio-item">
                                <input class="money-set" name="money-set" type="radio" value="400" />
                                <div class="radio-symbol">
                                    <span class="img"></span>
                                    <span class="num">10本书</span>
                                    <span class="love"><i>400</i>元</span>
                                </div>
                            </label>
                            <img class="logo3" src="./images/page3-logo3.png" alt="" srcset="">
                            <label class="radio-item">
                                <input class="money-set" name="money-set" type="radio" value="800" />
                                <div class="radio-symbol">
                                    <span class="img"></span>
                                    <span class="num">20本书</span>
                                    <span class="love"><i>800</i>元</span>
                                </div>
                            </label>
                        </div>

                        <div class="input-control">
                            <label for="diymoney" class="diymoney-label">自定义金额</label>
                            <div class="diymoeny-value">
                                <input type="text" placeholder="0" id="diymoney" class="number" name="money">
                                元
                            </div>
                            <div class="tips">请点击上方图书数量进行选赠或自定义金额</div>
                        </div>

                        <div class="input-control">
                            <label for="name" class="diymoney-label">姓名</label>
                            <div class="diymoeny-value">
                                <input type="text" name="name" placeholder="" id="name">
                            </div>

                            <label for="phone" class="diymoney-label margin20">手机号</label>
                            <div class="diymoeny-value">
                                <input type="text" name="phone" placeholder="" class="phone" id="phone">
                            </div>
                        </div>

                        <div class="input-control">
                            <label class="is-need-receipt">
                                <div>捐款成功后，如需收据请勾选</div>
                                <div class="receipt-value">
                                    <input type="checkbox" name="receipt" id="receipt">
                                    <div></div>
                                </div>
                            </label>

                            <label for="phone" class="diymoney-label margin20 required receipt-hook">收据抬头</label>
                            <div class="diymoeny-value receipt-hook">
                                <input type="text" placeholder="请填写收据抬头" name="invoice">
                            </div>

                            <label for="phone" class="diymoney-label margin20 required receipt-hook">详细地址</label>
                            <div class="diymoeny-value receipt-hook">
                                <input type="text" placeholder="请填写详细地址" name="adress">
                            </div>

                            <label for="phone" class="diymoney-label margin20 required receipt-hook">收据收件人</label>
                            <div class="diymoeny-value receipt-hook">
                                <input type="text" placeholder="请填写收据收件人" name="receiptname">
                            </div>

                            <label for="phone" class="diymoney-label margin20 required receipt-hook">收件人电话</label>
                            <div class="diymoeny-value receipt-hook">
                                <input type="text" placeholder="请填写收件人电话" name="receiptphone">
                            </div>
                        </div>
                        <div class="submit-text">
                            <button>确认捐款</button>
                        </div>
                    </form>
                </div>
            </div>
            <!-- 第三页 end -->

            <!-- 第四页 start -->
            <div class="swiper-slide" style="position: relative;" data-hash="page4">
                <div class="page-L swiper-no-swiping" id="page4">
                    <div><span class="navTo1"></span>活动规则</div>
                    <p> 1. 活动时间：2018年1月25日—2018年2月9日（在活动时间内，活动资源送完则活动自动结束）；<br />
                        2. 参与方式：在“浙江移动”微信公众号中回复“福袋”关键字；<br />
                        3. 活动规则：用户在活动期间参与活动，可通过本人参与、受邀、邀请好友三种方式参与活动，每个手机号累计最多获得11个福袋。 <br />
                        （1）首次发起邀请成功，无论对方是否接受邀请，发起人均可获得1个福袋。<br />
                        （2）每次被邀请人接受邀请，发起人和被邀请人双方各自可获得1个福袋。双方可互相邀请，均可以发起人和被发起人的身份各自获得1个福袋，但一方重复接受另一方的邀请，只为双方赠送1个福袋。<br />
                        同一被邀请人接受多个发起人的邀请，均可获赠福袋，但单个手机号码累计获得以11个福袋为上限，之后再发起或接受邀请均不再享受。<br />
                        4. 活动奖品：福袋的中奖概率为100%，内含奖励及具体中奖概率如下：</p>
                </div>
            </div>
            <!-- 第四页 end -->
        </div>
    </div>
    <script src="./js/jquery-1.10.1.min.js"></script>
    <script src="./js/swiper.min.js"></script>
    <script src="./js/swiper.myanimate1.0.0.min.js"></script>
    <script src="./js/jquery.validate.min.js"></script>
    <script>
        window.onload = function () {
            var mySwiper = new Swiper('.swiper-container', {
                //Slides的滑动方向，可设置水平(horizontal)或垂直(vertical)
                direction: 'vertical',
                //将hashnav设置为true，并在每个slide处增加data-hash属性，可在当前页刷新。
                hashnav: true,
                // history: true,
                noSwiping: true,
                preventClicks: false, //默认true
                onInit: function (swiper) {
                    swiperAnimateCache(swiper);
                    swiperAnimate(swiper);
                    $('.page-L').scrollTop(0);
                },
                onSlideChangeEnd: function (swiper) {
                    swiperAnimate(swiper);
                    $('.page-L').scrollTop(0);
                }
            });
            $('.navTo1').on('click', function (event) {
                mySwiper.slideTo(0);
                swiperAnimateCache(mySwiper);
                swiperAnimate(mySwiper);
            });
            $('.navTo2').on('click', function (event) {
                mySwiper.slideTo(1);
                swiperAnimateCache(mySwiper);
                swiperAnimate(mySwiper);
            });
            $('.navTo3').on('click', function (event) {
                mySwiper.slideTo(2);
                swiperAnimateCache(mySwiper);
                swiperAnimate(mySwiper);
            });
            $('.navTo4').on('click', function (event) {
                mySwiper.slideTo(3);
                swiperAnimateCache(mySwiper);
                swiperAnimate(mySwiper);
            });

            $("#receipt").change(function (e) {
                if ($(this).prop('checked')) {
                    $('.receipt-hook').css('display', 'block')
                } else {
                    $('.receipt-hook').hide()
                }
            })

            $('.money-set').change(function (e) {
                if ($(this).prop('checked')) {
                    $('input[name=money]').val($(this).val())
                }
            })

            $('#diymoney').change(function (e) {
                var value = $(this).val();
                $('.money-set').each(function (idx, val) {
                    if ($(val).val() === value) {
                        $(val).prop('checked', true)
                    } else {
                        $(val).prop('checked', false)
                    }
                })
            })

            $.validator.addMethod("phone", function (value, element) {
                return /^1[3456789][0-9]{9}$/.test(value)
            })

            $.validator.addMethod("invoice", function (value, element) {
                return isNeedReceipt() || value
            })

            $.validator.addMethod("receiptphone", function (value, element) {
                return isNeedReceipt() || /^1[3456789][0-9]{9}$/.test(value)
            })

            function isNeedReceipt() {
                return !$('#receipt').prop('checked')
            }

            var validate = $("#myform").validate({
                debug: true,
                focusInvalid: false,
                onkeyup: false,
                submitHandler: function (form) {
                    form.submit();
                },
                rules: {
                    money: {
                        required: true
                    },
                    name: {
                        required: true
                    },
                    phone: {
                        required: true
                    },
                    invoice: {
                        invoice: true
                    },
                    adress: {
                        invoice: true
                    },
                    receiptname: {
                        invoice: true
                    },
                    receiptphone: {
                        receiptphone: true
                    },

                },
                messages: {
                    money: {
                        required: "必填",
                        number: "必须输入数值！"
                    },
                    name: {
                        required: "必填",
                    },
                    phone: {
                        required: "必填",
                        phone: "请正确输入手机号码"
                    },
                    invoice: {
                        invoice: "必填"
                    },
                    adress: {
                        invoice: "必填"
                    },
                    receiptname: {
                        invoice: "必填"
                    },
                    receiptphone: {
                        receiptphone: "输入手机号"
                    },
                }
            });
        }
    </script>
</body>

</html>